<!DOCTYPE html>
<html lang="en">
<head>
	<title>Responsive Tables Generator</title>
	<link rel="stylesheet" href="webapp/lib/css/style.css">
</head>
<body>
	<div class="container-narrow">
		<div class="masthead">
			<h3 class="muted">Responsive Tables</h3>
		</div>
	</div>
	<div class="sticky-nav-wrapper">
		<div class="sticky-nav-holder show" data-hide-at-top="true"><div class="sticky-nav-container">
			<nav id="sticky-nav" class="sticky-navbar navbar clearfix">
		    <div class="container">
		    	<div class="nav-right">
			      <div class="donate-btn"><a href="https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&amp;hosted_button_id=M7T6234BREMG2"><i class="icon-heart"></i>Donate</a></div> 
					</div>

		      <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
		      <a class="btn btn-navbar toggle-nav-bar" title="More">
		        <div class="bars">
			        <span class="icon-bar"></span>
			        <span class="icon-bar"></span>
			        <span class="icon-bar"></span>
		        </div>
		      </a>

		      <ul class="nav">
		        <li class="home-link"><a href="http://nerds.investigativenewsnetwork.org/"><img width="50" height="50" src="http://inndev.wpengine.com/wp-content/uploads/2014/05/zR0liGzF-50x50.png" class="attachment-home-logo" alt="nerd logo"></a></li>
		        <li class="divider-vertical"></li>
					</ul>

		      <div class="nav-shelf">
						<ul class="nav"><li id="menu-item-106843" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-106843"><a href="http://nerds.investigativenewsnetwork.org/category/announcements/">Announcements</a></li>
<li id="menu-item-106863" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-106863"><a href="http://nerds.investigativenewsnetwork.org/category/tools/">Tools</a></li>
<li id="menu-item-106842" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-106842"><a href="http://nerds.investigativenewsnetwork.org/team/">Team</a></li>
<li id="menu-item-106805" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-106805"><a href="http://nerds.investigativenewsnetwork.org/contact/">Contact</a></li>
							<li class="menu-item-has-childen dropdown">
															</li>
						</ul>
					</div>
		    </div>
			</nav>
		</div></div>
	</div>

	<div id="page">
		<div id="main" class="row-fluid">
			<h1>Responsive Tables</h1>
			<p>This generates a ready-for-deployment, embeddable, responsive version of a Google Spreadsheet, from the spreadsheet key and some column formatting information.</p>
			<p>It works best with tables that have 5-7 columns.</p>
			<div id="basics">
				<p>Input your project details here:</p>
        <label class="control-label" for="basics-url">Paste the URL or key here. The "key" is a long sequence of letters, numbers and dashes from the spreadsheet URL. </label>
				<input id="basics-keyurl" type="text" placeholder="Google Spreadsheet URL or key" class="span12">
				<label class="control-label" for="basics-title">Title:</label>
				<input id="basics-title" type="text" placeholder="Title" class="span12" >
				<label>If you want Google Analytics tracking for your table, enter your Google Analytics Tracking ID, of the form UA-XXXXXXX-X</label>
				<input id="basics-ga" type="text" placeholder="UA-XXXXXXX-X"><br>
        <button id="start-tabletop" class="btn btn-primary">Get spreadsheet</button>
				<p id="showInfo"></p>
			</div>
			<div id="columns">
        <form id="columns-form">
          <table>
            <tbody>
              <tr>
                <th>Column key</th>
                <th>Include in table?</th>
                <th>Column label</th>
              </tr>
            </tbody>
          </table>
        </form>
			</div>
      <button id="preview" class="btn btn-large">Preview</button>
			<button id="build-zip" class="btn btn-primary btn-large ">Build the zip</button>
      <br/>
      
      <div id="table-iframe-container"></div>
      
			<hr>
			<h3>Uploading</h3>
			<p>It's a simple as unzipping the contents of the .zip to a directory on your website.</p>
			<h3>Embedding the table</h3>
			<p>We're using <a href="http://blog.apps.npr.org/pym.js/">pym.js</a> to make our tables responsive when embedded via <code>&lt;iframe&gt;</code>.</p>
			<p>To embed a table, you can use this snipped to get started:</p>
	<pre><code>&lt;div id="table-iframe-container"&gt;&lt;/div&gt;
&lt;script src="http://yourdomain.com/path/to/pym.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript"&gt;
(function() {
  var pymParent = new pym.Parent(
    'table-iframe-container',
    'http://yourdomain.com/path/to/index.html', {});
}());
&lt;/script&gt;</code></pre>

			<p>Be sure to replace <code>http://yourdomain.com/path/to/index.html</code> with the actual URL of your table, and to replace <code>http://yourdomain.com/path/to/pym.js</code> with the location of the pym.js file, found in the same directory.</p>

			<h3>Credits</h3>

			<p>This little project uses:</p>
			<ul>
				<li><a href="http://blog.apps.npr.org/pym.js/">NPR's pym.js</a>, </li>
				<li><a href="https://github.com/jsoma/tabletop">Tabletop</a>, </li>
				<li><a href="https://github.com/filamentgroup/tablesaw/">Tablesaw</a> </li>
				<li><a href="https://stuk.github.io/jszip/">JSzip</a> and <a href="https://stuk.github.io/jszip-utils/">JSzip-utils</a></li>
				<li><a href="http://eligrey.com/blog/post/saving-generated-files-on-the-client-side">FileSaver.js</a></li>
			</ul>
			<p>Check them out!</p>
		</div>
	</div>
	<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
	<script src="//cdnjs.cloudflare.com/ajax/libs/swig/1.4.1/swig.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/spin.js/2.0.1/spin.min.js"></script>

	<script src="webapp/lib/js/jszip.js"></script><!-- use .min.js when working -->
	<script src="webapp/lib/js/jszip-utils.min.js"></script>
	<script src="webapp/lib/js/tabletop.js"></script>
	<script src="webapp/lib/js/bootstrap-transition.js"></script>
	<script src="webapp/lib/js/bootstrap-collapse.js"></script>
  <script src="assets/pym.js"></script>
	<!-- Mandatory in IE 6, 7, 8 and 9. -->
	<!--[if IE]>
		<script type="text/javascript" src="/webapps/lib/js/jszip-utils-ie.min.js"></script>
	<![endif]-->
	<script src="webapp/lib/js/FileSaver.js"></script>
	<script src="webapp/app.js"></script>
  <div class="loading-modal"><div class="spinner"></div></div>
</body>
</html>
