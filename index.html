<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
<title>Responsive Table Generator</title>
<link rel="stylesheet" href="webapp/lib/css/style.css">
</head>
<body>
<div class="sticky-nav-wrapper">
  <div class="sticky-nav-holder show" data-hide-at-top="true"><div class="sticky-nav-container">
      <nav id="sticky-nav" class="sticky-navbar navbar clearfix">
        <div class="container">
          <div class="nav-right">
            <div class="donate-btn">
              <a href="https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&amp;hosted_button_id=M7T6234BREMG2"><i class="icon-heart"></i>Donate</a>
            </div>
          </div>

          <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
          <a class="btn btn-navbar toggle-nav-bar" title="More">
            <div class="bars">
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </div>
          </a>

          <ul class="nav">
            <li class="home-link">
              <a href="http://labs.inn.org/">
                <img width="50" height="50" src="http://inndev.wpengine.com/wp-content/uploads/2014/05/zR0liGzF-50x50.png" class="attachment-home-logo" alt="nerd logo">
              </a>
            </li>
            <li class="divider-vertical"></li>
          </ul>

          <div class="nav-shelf">
            <ul class="nav"><li id="menu-item-106843" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-106843"><a href="http://labs.inn.org/category/announcements/">Announcements</a></li>
              <li id="menu-item-106863" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-106863"><a href="http://labs.inn.org/category/tools/">Tools</a></li>
              <li id="menu-item-106842" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-106842"><a href="http://labs.inn.org/team/">Team</a></li>
              <li id="menu-item-106805" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-106805"><a href="http://labs.inn.org/contact/">Contact</a></li>
              <li class="menu-item-has-childen dropdown"></li>
            </ul>
          </div>
        </div>
      </nav>
  </div></div>
</div>

<div id="page">
  <div id="main" class="row-fluid">
    <h1>Responsive Table Generator</h1>
    <iframe src="http://ghbtns.com/github-btn.html?user=INN&repo=responsive-tables&type=watch&count=true&size=large"
      allowtransparency="true" frameborder="0" scrolling="0" width="125" height="30"></iframe>
    <iframe src="http://ghbtns.com/github-btn.html?user=INN&repo=responsive-tables&type=fork&count=true&size=large"
      allowtransparency="true" frameborder="0" scrolling="0" width="150" height="30"></iframe>
	<p>This app is <strong>no longer maintained</strong>. If you have used it before February 17, 2018, please <a href="http://blog.apps.npr.org/2018/02/15/pym-security-vulnerability.html">update your graphics</a> to avoid a high-severity security vulnerability from Pym.js. If you use this product regularly and would like us to maintain it, please <a href="mailto:labs@inn.org">let us know</a>.</p>
    <p>This simple app generates a ready-for-deployment, embeddable, responsive version of a Google Spreadsheet from the spreadsheet key and some column formatting information.</p>
    <p>It works best with tables that have 5-7 columns. Make sure you <a href="https://support.google.com/docs/answer/37579">publish your spreadsheet to the web</a> before using this generator.</p>
    <ul id="tab-nav">
      <li class="active" data-tab="generate"><a href="#">Generate</a></li>
      <li data-tab="upload-embed"><a href="#">Upload &amp; embed</a></li>
      <li data-tab="credits"><a href="#">Credits</a></li>
    </ul>
    <div id="generate" class="tab">
      <div id="basics">
        <div id="spreadsheet-key-url">
          <h5>Spreadsheet key or URL</h5>
          <p>
            <input id="basics-keyurl" type="text" placeholder="Google Spreadsheet URL or key" class="span12">
            <label>Type or paste your spreadsheet's key or URL here. The "key" is a long sequence of letters, numbers and dashes from the spreadsheet URL.</label>
            <button id="start-tabletop" class="btn btn-primary">Get spreadsheet</button>
          </p>
        </div>

        <div id="the-rest">

          <h5>Title</h5>
          <p>
            <input id="basics-title" type="text" placeholder="Title" class="span12">
            <label>A title for your responsive table. This will be used in the title tag of the html file for your table.</label>
          </p>

          <h5>Google Analytics</h5>
          <p>
            <input id="basics-ga" type="text" placeholder="UA-XXXXXXX-X">
            <label>If you want Google Analytics tracking for your table, enter your Google Analytics Tracking ID, of the form UA-XXXXXXX-X</label>
          </p>

        <p id="showInfo"></p>
        <div id="columns">
          <h5>Choose columns</h5>
          <label>Choose the columns to include in your responsive table and specify column labels for each.</label>

          <form id="columns-form">
            <table>
              <tbody>
              <tr>
                <th>Column key</th>
                <th>Include in table?</th>
                <th>Column label</th>
              </tr>
              </tbody>
            </table>
          </form>
        </div>
        <button id="build-zip" class="btn btn-primary btn-large">Download</button>
        <span>or</span>
        <button id="preview" class="btn btn-small">Preview</button>
        <div id="previewTable">
          <h5>Preview</h5>
          <div id="table-iframe-container"></div>
        </div>
      </div>
    </div>
  </div>

    <div id="upload-embed" class="tab">
      <h3>Uploading</h3>
      <p>It's a simple as unzipping the contents of the .zip to a directory on your website.</p>
      <h3>Embedding the table</h3>
      <p>We're using <a href="http://blog.apps.npr.org/pym.js/">pym.js</a> to make our tables responsive when embedded via <code>&lt;iframe&gt;</code>.</p>
      <p>To embed a table, you can use this snipped to get started:</p>
      <pre><code>&lt;div id="table-iframe-container"&gt;&lt;/div&gt;
  &lt;script src="https://pym.nprapps.org/pym.v1.min.js"&gt;&lt;/script&gt;
  &lt;script type="text/javascript"&gt;
  (function() {
    var pymParent = new pym.Parent(
      'table-iframe-container',
      'http://yourdomain.com/path/to/index.html', {});
  }());
  &lt;/script&gt;</code></pre>

      <p>Be sure to replace <code>http://yourdomain.com/path/to/index.html</code> with the actual URL of your table.</p>
    </div>

    <div id="credits" class="tab">
      <h3>Credits</h3>

	  <p>This project built and maintained by the <a href="http://labs.inn.org">friendly nerds</a> at the <a href="http://inn.org">Institute for Nonprofit News</a>.</p>
	  <p><strong>Developers:</strong> <a href="http://labs.inn.org/author/rnagle/">Ryan Nagle</a> and <a href="http://labs.inn.org/author/bkeith/">Ben Keith</a></p>
      <p>This little project uses:</p>
      <ul>
        <li><a href="http://blog.apps.npr.org/pym.js/">NPR's pym.js</a></li>
        <li><a href="https://github.com/jsoma/tabletop">Tabletop</a></li>
        <li><a href="https://github.com/filamentgroup/tablesaw/">Tablesaw</a></li>
        <li><a href="https://stuk.github.io/jszip/">JSzip</a> and <a href="https://stuk.github.io/jszip-utils/">JSzip-utils</a></li>
        <li><a href="http://eligrey.com/blog/post/saving-generated-files-on-the-client-side">FileSaver.js</a></li>
      </ul>
      <p>Check them out!</p>
    </div>
  </div>
</div>
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/swig/1.4.1/swig.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/spin.js/2.0.1/spin.min.js"></script>

<script src="webapp/lib/js/jszip.js"></script><!-- use .min.js when working -->
<script src="webapp/lib/js/jszip-utils.min.js"></script>
<script src="webapp/lib/js/tabletop.js"></script>
<script src="webapp/lib/js/bootstrap-transition.js"></script>
<script src="webapp/lib/js/bootstrap-collapse.js"></script>
<script src="https://pym.nprapps.org/pym.v1.min.js"></script>
<!-- Mandatory in IE 6, 7, 8 and 9. -->
<!--[if IE]>
    <script type="text/javascript" src="/webapps/lib/js/jszip-utils-ie.min.js"></script>
  <![endif]-->
<script src="webapp/lib/js/FileSaver.js"></script>
<script src="webapp/app.js"></script>
<div class="loading-modal"><div class="spinner"></div></div>
</body>
</html>
